<head>
  <title>Mat Dombrock</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8"/>
</head>
<div class="header">
  <h1><a href="/"><img src="/favicon.ico" width="25px" >Mathieu Dombrock</a></h1>
  
</div>
<small id="tagline" class="tagline" onclick="loadTagline()" style="cursor:pointer;">"Baseless claims & crimes against computing."</small>
<hr>
<div class="nav">
  <a href="/">home</a> |
  <a href="/about.html">about</a> |
  <a href="/search.html">search</a> |
  <a href="https://github.com/matdombrock" target="_blank">github</a> |
  <a href="https://replicataudio.com" target="_blank">replicataudio</a> |
  <input type="text" placeholder="local search" id="nav-search" style="float:right;">
</div>
<hr>

<script>
  document.getElementById('nav-search').addEventListener("keydown", function (e) {
      if (e.code === "Enter") {  //checks whether the pressed key is "Enter"
          search()
      }
  });

  function search(){
    window.location.href = "/search.html?s="+encodeURIComponent(document.getElementById('nav-search').value);
  }
  const quotes = [
    "Baseless claims & crimes against computing.",
    "Something should go here...",
    "This is a website.",
    "Did you see how fast this page loaded?",
    "Down with the OOP!",
    "I for one, welcome our new robot overlords.",
    "Is this thing on?",
    "Does anyone read this?",
    "Drink more water.",
    "This site, but it's John Coltrane's 'Giant Steps'.",
    "You are the "+Math.random()*10e6+"th visitor!",
    "SMASH that like button!",
    "Web 4.0",
    "Now available in color!",
    "Now available on 5G!",
    "Now available in VR!",
    "Did you notice these change every time?",
    "This site contains a secret game().",
    "Version Number: "+Math.random()*10+"."+Math.random()*10,
    "Click me!",
    "What is this? 1997?",
    "Thanks for visiting.",
    "Yet another tech blog.",
    "Yet another Warcraft 3 Map.",
    //
    "EX-TER-MIN-ATE! EX-TER-MIN-ATE!",
    "We also have a rogue robot policy.",
    "Give me an analysis, Joey.",
    "You didn't tell me you could fly!",
    "What's that ROBOT doing here?",
    
  ];
  function loadTagline(){
    document.getElementById('tagline').innerHTML = '"'+quotes[Math.floor(Math.random() * quotes.length)]+'"';
  }
  loadTagline();
  function game(input){
    console.log("This is a game (true me)");
    console.log("You said: "+input);
    if(input === 1337){
      console.log('win');
    }else{
      alert('fail');
      window.location.replace("https://youtu.be/dQw4w9WgXcQ");
    }
  }

</script><style>/*

Monokai Sublime style. Derived from Monokai by noformnocontent http://nn.mit-license.org/

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #23241f;
}

.hljs,
.hljs-tag,
.hljs-subst {
  color: #f8f8f2;
}

.hljs-strong,
.hljs-emphasis {
  color: #a8a8a2;
}

.hljs-bullet,
.hljs-quote,
.hljs-number,
.hljs-regexp,
.hljs-literal,
.hljs-link {
  color: #ae81ff;
}

.hljs-code,
.hljs-title,
.hljs-section,
.hljs-selector-class {
  color: #a6e22e;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-name,
.hljs-attr {
  color: #f92672;
}

.hljs-symbol,
.hljs-attribute {
  color: #66d9ef;
}

.hljs-params,
.hljs-class .hljs-title {
  color: #f8f8f2;
}

.hljs-string,
.hljs-type,
.hljs-built_in,
.hljs-builtin-name,
.hljs-selector-id,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-addition,
.hljs-variable,
.hljs-template-variable {
  color: #e6db74;
}

.hljs-comment,
.hljs-deletion,
.hljs-meta {
  color: #75715e;
}
</style><style>/*rgb(228, 172, 106);*/
:root{
  --bg:rgb(42, 42, 42);
  --main:rgb(254, 100, 216);
  --secondary:rgb(147, 220, 240);/*rgb(255, 131, 104);*/
  --highlight:rgb(252, 179, 211);
  --text:rgb(224, 220, 214);
}
body{
  font-family: Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  margin:0 auto;
}
body::selection { color: var(--highlight) }
a{
  color:var(--highlight);
  transition:all 0.2s;
  font-family: 'Courier New', monospace;
}
a:hover{
  color:var(--highlight);
}
blockquote{
  border-left:3px solid var(--secondary);
  padding-left:1rem;
  color:var(--secondary);
}
img{
  max-width:100%;
}
small{
  color:var(--secondary);
}
h1{
  color:var(--text);
}
h1 a{
  text-decoration: none;
  color:var(--text);
}
h1,h2,h3,h4{
  color:var(--secondary);
  font-family: 'Courier New', monospace;
}
/* hr{
  border-color: var(--text);
  outline-color: var(--text);
} */
.header{
  background-image: url('/img/md-banner.jpg');
  background-size: cover;
  background-position: center;
  min-height:300px;
  padding:1rem;
}
.tagline{
  padding:1rem;
  display: block;
  text-align: right;
}
.archive-msg{
  background:red;
  color:var(--text);
  padding:1rem;
}
.nav{
  padding:1rem;
}
.nav a{
  text-decoration: none;
}
.ss-content{
  max-width:1000px;
  margin-left:10vw;
  padding:1rem;
}
@media only screen and (max-width: 1200px) {
  .ss-content{
    margin-left:0;
  }
}
.footer{
  padding:1rem;
}
/* GH Repo card override*/
.repo-card a{
  color:var(--highlight)!important;
}
</style><div class="ss-content"><script>const ssmeta=
{
  "title":"Detecting A Key Press In JavaScript",
  "description":"Detecting and accepting keyboard input on your web app or site or game is something that can greatly improve the experience of your users.",
  "tags":"#programming #js"
}
;</script>
<h1 id="detectingakeypressinjavascript">Detecting A Key Press In JavaScript</h1>
<h2 id="introduction">Introduction</h2>
<p>Detecting and accepting keyboard input on your web app or site or game is something that can greatly improve the experience of your users. HTML already has ways to collect text based input like this:</p>
<pre><code class="hljs">&lt;<span class="hljs-built_in">input</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;
</code></pre>
<p>However, that's not what we're going for here. We want to detect keyboard input without the user having to type into an input field. </p>
<h2 id="detectingakeypress">Detecting A Key Press</h2>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">document</span>.onkeypress = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Key was pressed&quot;</span>)
};
</code></pre>
<p>So now we can detect when the user has pressed a key but that's not super useful on it's own.</p>
<p>In order to make this a little more useful we need to know which key was pressed. We can check this by looking at the 'keyCode' sent by the <code>onkeypress</code> event:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">document</span>.onkeypress = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    e = e || <span class="hljs-built_in">window</span>.event
    <span class="hljs-built_in">console</span>.log(e.keyCode)
};
</code></pre>
<p>This will output any subsequent key press 'keyCode' to the command line. </p>
<p>Now we just need to know the 'keyCode' of the key we want to detect. We can tell from our output that they 'keyCode' for "a" is 97. So if we wanted to detect when the "a" key was pressed we could do:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">document</span>.onkeypress = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    e = e || <span class="hljs-built_in">window</span>.event
    <span class="hljs-built_in">console</span>.log(e.keyCode)
    <span class="hljs-keyword">if</span>(e.keyCode = <span class="hljs-number">97</span>){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;&quot;a&quot; was pressed&#x27;</span>)
    }
};
</code></pre>
<h2 id="detectingkeyupandkeydown">Detecting Key Up And Key Down</h2>
<p>We can get a little more specific and look for when the key is pressed down and when the key is released. This can be useful for games and also for detecting key combinations.</p>
<p>Let's detect the "a" key again but this time only when it is released:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">document</span>.onkeyup = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    e = e || <span class="hljs-built_in">window</span>.event
    <span class="hljs-built_in">console</span>.log(e.keyCode)
    <span class="hljs-keyword">if</span>(e.keyCode = <span class="hljs-number">97</span>){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;&quot;a&quot; was released&#x27;</span>)
    }
};
</code></pre>
<p>We can detect the opposite with:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">document</span>.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">//...</span>
}
</code></pre>
<p>It seems like 'keydown' and 'keypressed' do the same thing but they are slightly different. One happens before the other:</p>
<pre class="javascript language-javascript"><code class="hljs javascript language-javascript"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;keyup&quot;</span>, log);
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;keypress&quot;</span>, log);
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;keydown&quot;</span>, log);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params">event</span>)</span>{
  <span class="hljs-built_in">console</span>.log( event.type );
}
<span class="hljs-comment">// output after pressing a key:</span>
<span class="hljs-comment">// keydown</span>
<span class="hljs-comment">// keypress</span>
<span class="hljs-comment">// key up</span>
</code></pre></div><br><br><br>
<hr>
<div class="footer">
  <div>
    &copy; Mathieu Dombrock 2023 | <a href="mailto:dombrock.mathieu@gmail.com">dombrock.mathieu@gmail.com</a> | 
    <a href="https://github.com/matdombrock" target="_blank">Github</a> | 
    <a href="https://github.com/matdombrock/SteelSky" target="_blank">SteelSky</a> |
    <small id="visits"></small>
  </div>
  <div>
    <small style="text-align:right;">
    </small>
  </div>

  <script>
    let visits = localStorage.getItem('visits');
    if(visits === undefined){
      visits = 0;
    }
    visits++;
    localStorage.setItem('visits', visits);
    document.getElementById('visits').innerHTML = "This browser has been here " + visits + " times";
  </script>
</div>